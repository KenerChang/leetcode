package basiccalculator

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestCalculate(t *testing.T) {
	cases := []struct {
		name   string
		wanted int
		input  string
	}{
		{"-5", -5, "-5"},
		{"1 + 1", 2, "1 + 1"},
		{" 2-1 + 2 ", 3, " 2-1 + 2 "},
		{"-(2+3)", -5, "-(2+3)"},
		{"(4 + 5 + 2)", 11, "4+5+2"},
		{"(1+(4+5+2)-3)+(6+8)", 23, "(1+(4+5+2)-3)+(6+8)"},
		{"(7)-(0)+(4)", 11, "(7)-(0)+(4)"},
		{"2-4", -2, "2-4"},
		{"2-4-13", -15, "2-4-13"},
		{"(8+2-6+(8+4-(1)+8-10))", 13, "(8+2-6+(8+4-(1)+8-10))"},
		{"2-4-(8+2-6+(8+4-(1)+8-10))", -15, "2-4-(8+2-6+(8+4-(1)+8-10))"},
		{"-(6", -6, "-(6)"},
		{"(3-(5-(8)-(2+(9-(0-(8-(2))))-(4))-(4)))", 23, "(3-(5-(8)-(2+(9-(0-(8-(2))))-(4))-(4)))"},
	}

	for _, c := range cases {
		t.Run(c.name, func(t *testing.T) {
			assert.Equal(t, c.wanted, calculate(c.input))
		})
	}
}
